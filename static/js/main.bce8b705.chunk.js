(this["webpackJsonpcode-masters-prototype"]=this["webpackJsonpcode-masters-prototype"]||[]).push([[0],{52:function(e,o,n){},56:function(e,o,n){"use strict";n.r(o);var r,t,d=n(1),c=n.n(d),l=n(16),s=n.n(l),a=n(6),i=n(30),x=(n(52),n(3)),p=n(22),y=n(25),u=[{id:1,mapId:1,scrollId:1,crystalLocs:[],startLoc:5,portalLoc:3,conditionalTokens:[],colorTokens:["red","red","green","green"]},{id:2,mapId:2,scrollId:1,crystalLocs:[0],startLoc:3,portalLoc:5,conditionalTokens:[],colorTokens:["red","red","blue","blue"]},{id:3,mapId:3,scrollId:1,crystalLocs:[1,5],startLoc:4,portalLoc:0,conditionalTokens:[],colorTokens:["red","green","blue","blue"]},{id:4,mapId:4,scrollId:2,crystalLocs:[3,4],startLoc:1,portalLoc:5,conditionalTokens:[],colorTokens:["red","red","green","blue","blue"]},{id:5,mapId:5,scrollId:1,crystalLocs:[3],startLoc:2,portalLoc:5,conditionalTokens:[],colorTokens:["red","green","blue","blue"]},{id:6,mapId:6,scrollId:2,crystalLocs:[1,4],startLoc:5,portalLoc:0,conditionalTokens:[],colorTokens:["red","red","green","blue","blue"]},{id:7,mapId:7,scrollId:2,crystalLocs:[],startLoc:0,portalLoc:8,conditionalTokens:[],colorTokens:["red","red","green","green","blue"]},{id:8,mapId:8,scrollId:1,crystalLocs:[],startLoc:7,portalLoc:4,conditionalTokens:[],colorTokens:["red","red","green","blue"]},{id:9,mapId:9,scrollId:2,crystalLocs:[0,7],startLoc:9,portalLoc:4,conditionalTokens:[],colorTokens:["red","red","green","green","blue"]},{id:10,mapId:10,scrollId:3,crystalLocs:[],startLoc:2,portalLoc:6,conditionalTokens:[],colorTokens:["red","red","red","green","blue","blue"]},{id:11,mapId:1,scrollId:1,crystalLocs:[1],startLoc:2,portalLoc:4,conditionalTokens:[],colorTokens:["red","red","green","blue"]},{id:12,mapId:2,scrollId:2,crystalLocs:[],startLoc:5,portalLoc:0,conditionalTokens:[],colorTokens:["red","red","green","green","blue"]},{id:13,mapId:3,scrollId:2,crystalLocs:[4,4],startLoc:5,portalLoc:0,conditionalTokens:[],colorTokens:["red","red","red","green","blue"]},{id:14,mapId:4,scrollId:2,crystalLocs:[4,4,5],startLoc:0,portalLoc:4,conditionalTokens:[],colorTokens:["red","green","green","blue","blue"]},{id:15,mapId:5,scrollId:2,crystalLocs:[2,5],startLoc:4,portalLoc:0,conditionalTokens:[],colorTokens:["red","red","green","blue","blue"]},{id:16,mapId:6,scrollId:4,crystalLocs:[2,2,2,4,4,4],startLoc:1,portalLoc:3,conditionalTokens:[{tokenType:"crystal",amount:6}],colorTokens:["red","green","blue"]},{id:17,mapId:7,scrollId:3,crystalLocs:[0,4],startLoc:3,portalLoc:5,conditionalTokens:[],colorTokens:["red","green","green","green","blue","blue"]},{id:18,mapId:8,scrollId:3,crystalLocs:[11],startLoc:9,portalLoc:2,conditionalTokens:[],colorTokens:["red","green","green","blue","blue","blue"]},{id:19,mapId:9,scrollId:3,crystalLocs:[0,4],startLoc:2,portalLoc:8,conditionalTokens:[],colorTokens:["red","green","green","blue","blue","blue"]},{id:20,mapId:10,scrollId:5,crystalLocs:[2],startLoc:6,portalLoc:0,conditionalTokens:[],colorTokens:["red","red","red","green","blue","blue","blue"]},{id:21,mapId:1,scrollId:2,crystalLocs:[1,1],startLoc:0,portalLoc:5,conditionalTokens:[],colorTokens:["red","green","green","green","blue"]},{id:22,mapId:2,scrollId:3,crystalLocs:[3,4],startLoc:5,portalLoc:0,conditionalTokens:[],colorTokens:["red","green","green","green","green","blue"]},{id:23,mapId:3,scrollId:4,crystalLocs:[1,3],startLoc:2,portalLoc:4,conditionalTokens:[{tokenType:"crystal",amount:2}],colorTokens:["red","green","blue"]},{id:24,mapId:4,scrollId:5,crystalLocs:[4,4,5,5],startLoc:0,portalLoc:5,conditionalTokens:[],colorTokens:["red","red","green","green","green","green","blue"]},{id:25,mapId:5,scrollId:4,crystalLocs:[],startLoc:5,portalLoc:0,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","green","blue"]},{id:26,mapId:6,scrollId:5,crystalLocs:[2,3,3,4],startLoc:0,portalLoc:1,conditionalTokens:[],colorTokens:["red","red","red","green","blue","blue","blue"]},{id:27,mapId:7,scrollId:4,crystalLocs:[2,5],startLoc:0,portalLoc:1,conditionalTokens:[{tokenType:"crystal",amount:2}],colorTokens:["red","green","blue"]},{id:28,mapId:8,scrollId:5,crystalLocs:[2],startLoc:9,portalLoc:4,conditionalTokens:[],colorTokens:["red","red","red","green","blue","blue","blue"]},{id:29,mapId:9,scrollId:3,crystalLocs:[6,9],startLoc:5,portalLoc:8,conditionalTokens:[],colorTokens:["red","green","green","green","blue","blue"]},{id:30,mapId:10,scrollId:6,crystalLocs:[3],startLoc:6,portalLoc:6,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","red","green","blue"]},{id:31,mapId:1,scrollId:6,crystalLocs:[1,1,5],startLoc:2,portalLoc:4,conditionalTokens:[{tokenType:"crystal",amount:2}],colorTokens:["red","red","green","blue"]},{id:32,mapId:2,scrollId:3,crystalLocs:[0,1,5,5],startLoc:4,portalLoc:5,conditionalTokens:[],colorTokens:["red","red","red","green","green","blue"]},{id:33,mapId:3,scrollId:4,crystalLocs:[3,3,3],startLoc:1,portalLoc:4,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","green","blue"]},{id:34,mapId:4,scrollId:7,crystalLocs:[1,4,4],startLoc:3,portalLoc:4,conditionalTokens:[{tokenType:"troll",trollType:"purple"}],colorTokens:["red","green","green","blue","blue","blue"]},{id:35,mapId:5,scrollId:8,crystalLocs:[2,5,5],startLoc:4,portalLoc:0,conditionalTokens:[{tokenType:"crystal",amount:2},{tokenType:"crystal",amount:3}],colorTokens:["red","green","blue"]},{id:36,mapId:6,scrollId:7,crystalLocs:[0,3,3],startLoc:2,portalLoc:1,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","red","green","green","green","blue"]},{id:37,mapId:7,scrollId:6,crystalLocs:[3,8],startLoc:1,portalLoc:5,conditionalTokens:[{tokenType:"crystal",amount:1}],colorTokens:["red","red","green","blue"]},{id:38,mapId:8,scrollId:6,crystalLocs:[1],startLoc:8,portalLoc:2,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","red","green","blue"]},{id:39,mapId:9,scrollId:5,crystalLocs:[2,4,9],startLoc:3,portalLoc:0,conditionalTokens:[],colorTokens:["red","red","red","green","green","blue","blue"]},{id:40,mapId:10,scrollId:9,crystalLocs:[2,4,9,11],startLoc:8,portalLoc:6,conditionalTokens:[{tokenType:"troll",trollType:"purple"}],colorTokens:["red","red","green","green","blue","blue","blue"]},{id:41,mapId:1,scrollId:8,crystalLocs:[2,3,4],startLoc:1,portalLoc:0,conditionalTokens:[{tokenType:"troll",trollType:"purple"},{tokenType:"troll",trollType:"orange"}],colorTokens:["red","green","blue"]},{id:42,mapId:2,scrollId:10,crystalLocs:[3,3,3,4,4,4],startLoc:0,portalLoc:2,conditionalTokens:[{tokenType:"troll",trollType:"purple"}],colorTokens:["red","red","green","blue"]},{id:43,mapId:3,scrollId:8,crystalLocs:[0,1,2,3,4],startLoc:5,portalLoc:3,conditionalTokens:[{tokenType:"crystal",amount:1},{tokenType:"crystal",amount:5}],colorTokens:["red","green","blue"]},{id:44,mapId:4,scrollId:6,crystalLocs:[0,4,5],startLoc:2,portalLoc:3,conditionalTokens:[{tokenType:"crystal",amount:1}],colorTokens:["red","green","green","blue"]},{id:45,mapId:5,scrollId:11,crystalLocs:[1,1,1],startLoc:2,portalLoc:3,conditionalTokens:[{tokenType:"troll",trollType:"purple"},{tokenType:"crystal",amount:3}],colorTokens:["red","red","green","blue"]},{id:46,mapId:6,scrollId:12,crystalLocs:[0,1,1,1,4],startLoc:3,portalLoc:4,conditionalTokens:[{tokenType:"troll",trollType:"orange"},{tokenType:"crystal",amount:2},{tokenType:"crystal",amount:5}],colorTokens:["red","red","green","blue"]},{id:47,mapId:7,scrollId:7,crystalLocs:[1,6],startLoc:0,portalLoc:8,conditionalTokens:[{tokenType:"crystal",amount:1}],colorTokens:["red","red","green","green","green","blue"]},{id:48,mapId:8,scrollId:10,crystalLocs:[6,11],startLoc:1,portalLoc:3,conditionalTokens:[{tokenType:"crystal",amount:2}],colorTokens:["red","green","blue","blue"]},{id:49,mapId:9,scrollId:5,crystalLocs:[2,3,6],startLoc:1,portalLoc:8,conditionalTokens:[],colorTokens:["red","red","green","green","green","green","blue"]},{id:50,mapId:10,scrollId:7,crystalLocs:[4,4,5,11,11],startLoc:8,portalLoc:11,conditionalTokens:[{tokenType:"crystal",amount:1}],colorTokens:["red","green","green","green","blue","blue"]},{id:51,mapId:1,scrollId:12,crystalLocs:[0,5,5],startLoc:4,portalLoc:0,conditionalTokens:[{tokenType:"troll",trollType:"orange"},{tokenType:"crystal",amount:2},{tokenType:"crystal",amount:3}],colorTokens:["red","green","blue","blue"]},{id:52,mapId:2,scrollId:7,crystalLocs:[0,1,1,2,4],startLoc:5,portalLoc:3,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","red","green","green","green","blue"]},{id:53,mapId:3,scrollId:12,crystalLocs:[0,0,2,2],startLoc:4,portalLoc:4,conditionalTokens:[{tokenType:"crystal",amount:4},{tokenType:"troll",trollType:"orange"},{tokenType:"troll",trollType:"purple"}],colorTokens:["red","green","green","blue"]},{id:54,mapId:4,scrollId:11,crystalLocs:[1,4,5],startLoc:3,portalLoc:0,conditionalTokens:[{tokenType:"crystal",amount:2},{tokenType:"crystal",amount:3}],colorTokens:["red","green","green","blue"]},{id:55,mapId:5,scrollId:11,crystalLocs:[1,1,4,5],startLoc:0,portalLoc:5,conditionalTokens:[{tokenType:"crystal",amount:1},{tokenType:"crystal",amount:4}],colorTokens:["red","green","blue","blue"]},{id:56,mapId:6,scrollId:9,crystalLocs:[1,1,2,3,3],startLoc:4,portalLoc:1,conditionalTokens:[{tokenType:"crystal",amount:5}],colorTokens:["red","red","red","green","green","green","blue"]},{id:57,mapId:7,scrollId:11,crystalLocs:[2,3,3,4,5,7],startLoc:0,portalLoc:0,conditionalTokens:[{tokenType:"crystal",amount:4},{tokenType:"troll",trollType:"orange"}],colorTokens:["red","green","blue","blue"]},{id:58,mapId:8,scrollId:9,crystalLocs:[0,9,10],startLoc:5,portalLoc:8,conditionalTokens:[{tokenType:"troll",trollType:"orange"}],colorTokens:["red","red","green","green","green","blue","blue"]},{id:59,mapId:9,scrollId:11,crystalLocs:[2,5,7,7,7],startLoc:0,portalLoc:1,conditionalTokens:[{tokenType:"troll",trollType:"orange"},{tokenType:"crystal",amount:2}],colorTokens:["red","green","blue","blue"]},{id:60,mapId:10,scrollId:9,crystalLocs:[2,9],startLoc:8,portalLoc:9,conditionalTokens:[{tokenType:"crystal",amount:2}],colorTokens:["red","red","red","green","green","blue","blue"]}],I=[{id:1,trollLocs:{orange:[5],purple:[0]},nodes:[{x:10,y:30},{x:50,y:30},{x:90,y:30},{x:10,y:70},{x:50,y:70},{x:90,y:70}],paths:[{color:"red",nodeIdxs:[0,1]},{color:"green",nodeIdxs:[0,2],middleCoords:[{x:50,y:20}]},{color:"blue",nodeIdxs:[0,4]},{color:"green",nodeIdxs:[1,3]},{color:"blue",nodeIdxs:[1,2]},{color:"red",nodeIdxs:[2,5]},{color:"red",nodeIdxs:[3,4]},{color:"blue",nodeIdxs:[3,5],middleCoords:[{x:50,y:80}]},{color:"green",nodeIdxs:[4,5]}]},{id:2,trollLocs:{orange:[1],purple:[2]},nodes:[{x:40,y:20},{x:20,y:50},{x:40,y:50},{x:60,y:50},{x:80,y:50},{x:60,y:80}],paths:[{color:"red",nodeIdxs:[0,2]},{color:"green",nodeIdxs:[0,4]},{color:"blue",nodeIdxs:[0,1]},{color:"red",nodeIdxs:[1,5]},{color:"green",nodeIdxs:[1,2]},{color:"blue",nodeIdxs:[2,3]},{color:"red",nodeIdxs:[3,4]},{color:"green",nodeIdxs:[3,5]},{color:"blue",nodeIdxs:[4,5]}]},{id:3,trollLocs:{orange:[4],purple:[0]},nodes:[{x:10,y:30},{x:50,y:30},{x:90,y:30},{x:10,y:70},{x:50,y:70},{x:90,y:70}],paths:[{color:"red",nodeIdxs:[0,1],middleCoords:[{x:30,y:25}]},{color:"green",nodeIdxs:[0,1],middleCoords:[{x:30,y:35}]},{color:"blue",nodeIdxs:[0,3]},{color:"blue",nodeIdxs:[1,2]},{color:"red",nodeIdxs:[2,3]},{color:"green",nodeIdxs:[2,5]},{color:"green",nodeIdxs:[3,4]},{color:"red",nodeIdxs:[4,5],middleCoords:[{x:70,y:65}]},{color:"blue",nodeIdxs:[4,5],middleCoords:[{x:70,y:75}]}]},{id:4,trollLocs:{purple:[0,5],orange:[]},nodes:[{x:20,y:30},{x:20,y:60},{x:50,y:60},{x:70,y:60},{x:90,y:60},{x:70,y:30}],paths:[{color:"blue",nodeIdxs:[0,0],selfLoopDirection:"up"},{color:"red",nodeIdxs:[0,1]},{color:"green",nodeIdxs:[0,1]},{color:"blue",nodeIdxs:[1,2]},{color:"red",nodeIdxs:[2,3]},{color:"green",nodeIdxs:[2,5]},{color:"green",nodeIdxs:[3,4]},{color:"blue",nodeIdxs:[3,5]},{color:"red",nodeIdxs:[4,5]},{color:"blue",nodeIdxs:[4,4],selfLoopDirection:"down"}]},{id:5,trollLocs:{purple:[3],orange:[0]},nodes:[{x:16,y:50},{x:32,y:30},{x:32,y:70},{x:50,y:50},{x:68,y:30},{x:84,y:70}],paths:[{color:"green",nodeIdxs:[0,1]},{color:"blue",nodeIdxs:[0,4],middleCoords:[{x:20,y:15}]},{color:"red",nodeIdxs:[0,5],middleCoords:[{x:24,y:85}]},{color:"red",nodeIdxs:[1,2],directional:!0},{color:"blue",nodeIdxs:[1,3]},{color:"green",nodeIdxs:[2,3]},{color:"blue",nodeIdxs:[2,5]},{color:"red",nodeIdxs:[3,4]},{color:"green",nodeIdxs:[4,5]}]},{id:6,trollLocs:{purple:[2],orange:[1,4]},nodes:[{x:14,y:50},{x:34,y:20},{x:34,y:80},{x:66,y:20},{x:66,y:80},{x:86,y:50}],paths:[{color:"red",nodeIdxs:[0,1],directional:!0},{color:"red",nodeIdxs:[1,2],directional:!0,xOffset:-1.5},{color:"blue",nodeIdxs:[1,3]},{color:"green",nodeIdxs:[1,4],directional:!0},{color:"red",nodeIdxs:[2,0],directional:!0},{color:"green",nodeIdxs:[2,1],directional:!0,xOffset:1.5},{color:"blue",nodeIdxs:[2,4]},{color:"green",nodeIdxs:[3,2],directional:!0},{color:"red",nodeIdxs:[3,4],directional:!0,xOffset:1.5},{color:"green",nodeIdxs:[4,3],directional:!0,xOffset:-1.5},{color:"red",nodeIdxs:[4,5],directional:!0},{color:"red",nodeIdxs:[5,3],directional:!0}]},{id:7,trollLocs:{orange:[0],purple:[]},nodes:[{x:14,y:35},{x:14,y:65},{x:40,y:20},{x:40,y:50},{x:40,y:80},{x:66,y:35},{x:66,y:65},{x:86,y:35},{x:86,y:65}],paths:[{color:"green",nodeIdxs:[0,1]},{color:"blue",nodeIdxs:[0,2]},{color:"red",nodeIdxs:[0,3]},{color:"red",nodeIdxs:[1,4]},{color:"green",nodeIdxs:[2,3]},{color:"red",nodeIdxs:[2,5]},{color:"blue",nodeIdxs:[3,4]},{color:"green",nodeIdxs:[4,6]},{color:"blue",nodeIdxs:[5,6]},{color:"green",nodeIdxs:[5,7]},{color:"red",nodeIdxs:[6,8]},{color:"blue",nodeIdxs:[7,8]}]},{id:8,trollLocs:{orange:[3,9,10],purple:[]},nodes:[{x:50,y:16},{x:30,y:30},{x:70,y:30},{x:50,y:44},{x:10,y:60},{x:35,y:65},{x:65,y:65},{x:90,y:60},{x:10,y:85},{x:35,y:85},{x:65,y:85},{x:90,y:85}],paths:[{color:"red",nodeIdxs:[0,0],selfLoopDirection:"up"},{color:"green",nodeIdxs:[0,1]},{color:"blue",nodeIdxs:[0,2]},{color:"blue",nodeIdxs:[1,3]},{color:"red",nodeIdxs:[1,4],directional:!0},{color:"green",nodeIdxs:[2,1],directional:!0},{color:"red",nodeIdxs:[2,3]},{color:"green",nodeIdxs:[3,6],directional:!0},{color:"blue",nodeIdxs:[4,5]},{color:"green",nodeIdxs:[4,8]},{color:"red",nodeIdxs:[4,9],directional:!0},{color:"red",nodeIdxs:[5,3],directional:!0},{color:"green",nodeIdxs:[5,9]},{color:"blue",nodeIdxs:[6,5],directional:!0},{color:"red",nodeIdxs:[6,7]},{color:"green",nodeIdxs:[6,10]},{color:"green",nodeIdxs:[7,2],directional:!0},{color:"blue",nodeIdxs:[7,11]},{color:"blue",nodeIdxs:[8,8],selfLoopDirection:"down"},{color:"red",nodeIdxs:[8,9]},{color:"blue",nodeIdxs:[9,10],directional:!0},{color:"blue",nodeIdxs:[10,7],directional:!0},{color:"red",nodeIdxs:[10,11]},{color:"green",nodeIdxs:[11,11],selfLoopDirection:"down"}]},{id:9,trollLocs:{orange:[1],purple:[]},nodes:[{x:50,y:6.69872981078},{x:37.5,y:28.349364905389038},{x:62.5,y:28.349364905389024},{x:25,y:50},{x:50,y:50},{x:75,y:50},{x:12.5,y:71.65063509461098},{x:37.5,y:71.65063509461098},{x:62.5,y:71.65063509461096},{x:87.5,y:71.65063509461098}],paths:[{color:"blue",nodeIdxs:[0,1],directional:!0},{color:"green",nodeIdxs:[0,6],middleCoords:[{x:12.5,y:28.349364905400012}]},{color:"red",nodeIdxs:[0,9],middleCoords:[{x:87.5,y:28.349364905400012}]},{color:"red",nodeIdxs:[1,2],directional:!0},{color:"green",nodeIdxs:[1,3],middleCoords:[{x:24.019237886466836,y:35}]},{color:"blue",nodeIdxs:[1,3],directional:!0},{color:"green",nodeIdxs:[2,0],directional:!0},{color:"blue",nodeIdxs:[2,4],directional:!0},{color:"red",nodeIdxs:[2,5],middleCoords:[{x:75.98076211353316,y:35}]},{color:"red",nodeIdxs:[3,4],directional:!0},{color:"blue",nodeIdxs:[3,6],directional:!0},{color:"green",nodeIdxs:[4,1],directional:!0},{color:"red",nodeIdxs:[4,5],directional:!0},{color:"blue",nodeIdxs:[4,7],directional:!0},{color:"green",nodeIdxs:[5,2],directional:!0},{color:"blue",nodeIdxs:[5,8],directional:!0},{color:"red",nodeIdxs:[6,7],directional:!0},{color:"blue",nodeIdxs:[6,9],middleCoords:[{x:50,y:93.3012701892}]},{color:"green",nodeIdxs:[7,3],directional:!0},{color:"red",nodeIdxs:[7,8],directional:!0},{color:"blue",nodeIdxs:[7,8],middleCoords:[{x:50,y:80}]},{color:"green",nodeIdxs:[8,4],directional:!0},{color:"red",nodeIdxs:[8,9],directional:!0},{color:"green",nodeIdxs:[9,5],directional:!0}]},{id:10,trollLocs:{orange:[7,10],purple:[4]},nodes:[{x:15,y:35},{x:32.5,y:25},{x:50,y:15},{x:67.5,y:25},{x:85,y:35},{x:40,y:50},{x:60,y:50},{x:15,y:65},{x:32.5,y:75},{x:50,y:85},{x:67.5,y:75},{x:85,y:65}],paths:[{color:"red",nodeIdxs:[0,1]},{color:"green",nodeIdxs:[0,7],directional:!0},{color:"green",nodeIdxs:[1,2]},{color:"blue",nodeIdxs:[1,5]},{color:"red",nodeIdxs:[2,2],selfLoopDirection:"up"},{color:"blue",nodeIdxs:[2,3]},{color:"red",nodeIdxs:[3,4]},{color:"green",nodeIdxs:[3,6]},{color:"green",nodeIdxs:[4,11],directional:!0,middleCoords:[{x:92,y:50}]},{color:"red",nodeIdxs:[5,6]},{color:"green",nodeIdxs:[5,8]},{color:"blue",nodeIdxs:[6,10]},{color:"blue",nodeIdxs:[7,0],directional:!0,middleCoords:[{x:8,y:50}]},{color:"red",nodeIdxs:[7,8]},{color:"blue",nodeIdxs:[8,9]},{color:"red",nodeIdxs:[9,9],selfLoopDirection:"down"},{color:"green",nodeIdxs:[9,10]},{color:"red",nodeIdxs:[10,11]},{color:"blue",nodeIdxs:[11,4],directional:!0}]}],b=[{id:1,nodes:[{type:"path",isStart:!0,coords:{x:46,y:50},next:{index:1}},{type:"path",coords:{x:82,y:50},next:{index:2}},{type:"path",coords:{x:118,y:50},next:{index:3}},{type:"path",coords:{x:154,y:50},next:{index:-1,isGoal:!0}}]},{id:2,nodes:[{type:"path",isStart:!0,coords:{x:46,y:35},next:{index:1}},{type:"path",coords:{x:82,y:35},next:{index:2}},{type:"path",coords:{x:118,y:35},next:{index:3}},{type:"path",coords:{x:118,y:65},next:{index:4}},{type:"path",coords:{x:154,y:65},next:{index:-1,isGoal:!0}}]},{id:3,nodes:[{type:"path",isStart:!0,coords:{x:46,y:25},next:{index:1}},{type:"path",coords:{x:82,y:25},next:{index:2}},{type:"path",coords:{x:82,y:50},next:{index:3}},{type:"path",coords:{x:118,y:50},next:{index:4}},{type:"path",coords:{x:118,y:75},next:{index:5}},{type:"path",coords:{x:154,y:75},next:{index:-1,isGoal:!0}}]},{id:4,nodes:[{type:"path",isStart:!0,coords:{x:46,y:60},next:{index:1}},{type:"path",coords:{x:82,y:60},next:{index:2}},{type:"path",coords:{x:118,y:60},next:{index:3}},{type:"condition",coords:{x:154,y:60},nextIf:{index:-1,isGoal:!0},nextElse:{index:0,midpoints:[{x:154,y:35},{x:46,y:35}]}}]},{id:5,nodes:[{type:"path",isStart:!0,coords:{x:46,y:25},next:{index:1}},{type:"path",coords:{x:82,y:25},next:{index:2}},{type:"path",coords:{x:82,y:50},next:{index:3}},{type:"path",coords:{x:82,y:75},next:{index:4}},{type:"path",coords:{x:118,y:75},next:{index:5}},{type:"path",coords:{x:154,y:75},next:{index:6}},{type:"path",coords:{x:154,y:50},next:{index:-1,isGoal:!0}}]},{id:6,portalPos:"down",nodes:[{type:"path",isStart:!0,coords:{x:40,y:50},next:{index:1}},{type:"path",coords:{x:70,y:50},next:{index:2}},{type:"path",coords:{x:100,y:50},next:{index:3}},{type:"path",coords:{x:130,y:50},next:{index:4}},{type:"condition",coords:{x:160,y:50},nextElse:{index:-1,isGoal:!0},nextIf:{index:0,midpoints:[{x:160,y:25},{x:40,y:25}]}}]},{id:7,nodes:[{type:"path",isStart:!0,coords:{x:40,y:50},next:{index:1}},{type:"condition",coords:{x:70,y:50},nextIf:{index:2},nextElse:{index:5,midpoints:[{x:70,y:75}]}},{type:"path",coords:{x:100,y:50},next:{index:3}},{type:"path",coords:{x:130,y:50},next:{index:4}},{type:"path",coords:{x:160,y:50},next:{index:1,midpoints:[{x:160,y:25},{x:70,y:25}]}},{type:"path",coords:{x:100,y:75},next:{index:6}},{type:"path",coords:{x:130,y:75},next:{index:-1,isGoal:!0}}]},{id:8,nodes:[{type:"condition",isStart:!0,coords:{x:60,y:50},nextIf:{index:1,midpoints:[{x:60,y:35}]},nextElse:{index:2,midpoints:[{x:60,y:65}]}},{type:"path",coords:{x:90,y:35},next:{index:3,midpoints:[{x:120,y:35}]}},{type:"path",coords:{x:90,y:65},next:{index:3,midpoints:[{x:120,y:65}]}},{type:"path",coords:{x:120,y:50},next:{index:4}},{type:"condition",coords:{x:150,y:50},nextIf:{index:-1,isGoal:!0},nextElse:{index:0,midpoints:[{x:150,y:20},{x:45,y:20},{x:45,y:50}]}}]},{id:9,nodes:[{type:"condition",isStart:!0,coords:{x:40,y:50},nextIf:{index:5,midpoints:[{x:40,y:75}]},nextElse:{index:1}},{type:"path",coords:{x:70,y:50},next:{index:2}},{type:"path",coords:{x:100,y:50},next:{index:3}},{type:"path",coords:{x:130,y:50},next:{index:4}},{type:"path",coords:{x:160,y:50},next:{index:0,midpoints:[{x:160,y:25},{x:40,y:25}]}},{type:"path",coords:{x:70,y:75},next:{index:6}},{type:"path",coords:{x:100,y:75},next:{index:7}},{type:"path",coords:{x:130,y:75},next:{index:-1,isGoal:!0}}]},{id:10,portalPos:"down",nodes:[{type:"path",isStart:!0,coords:{x:40,y:50},next:{index:1}},{type:"path",coords:{x:70,y:50},next:{index:2}},{type:"path",coords:{x:100,y:50},next:{index:3}},{type:"path",coords:{x:130,y:50},next:{index:4}},{type:"condition",coords:{x:160,y:50},nextIf:{index:-1,isGoal:!0},nextElse:{index:0,midpoints:[{x:160,y:25},{x:40,y:25}]}}]},{id:11,nodes:[{type:"path",isStart:!0,coords:{x:40,y:50},next:{index:1}},{type:"condition",coords:{x:70,y:50},nextIf:{index:2,midpoints:[{x:70,y:35}]},nextElse:{index:3,midpoints:[{x:70,y:65}]}},{type:"path",coords:{x:100,y:35},next:{index:4,midpoints:[{x:130,y:35}]}},{type:"path",coords:{x:100,y:65},next:{index:4,midpoints:[{x:130,y:65}]}},{type:"path",coords:{x:130,y:50},next:{index:5}},{type:"condition",coords:{x:160,y:50},nextIf:{index:-1,isGoal:!0},nextElse:{index:0,midpoints:[{x:160,y:20},{x:40,y:20}]}}]}],k=n(8),g=n(21),f={crystalsOnMapNode:{},tokens:[],playerLoc:-1,playingScrollNode:0,level:null,playbackInProgress:!1},L=Object(g.b)({name:"game",initialState:f,reducers:{resetState:function(){return f},loadLevel:function(e,o){var n=o.payload,r=n.crystalLocs,t=n.colorTokens,d=n.conditionalTokens,c=n.startLoc;e.crystalsOnMapNode={},r.forEach((function(o){e.crystalsOnMapNode[o]=e.crystalsOnMapNode[o]||0,e.crystalsOnMapNode[o]++})),e.tokens=[].concat(Object(k.a)(t.map((function(e){return{color:e,type:"path"}}))),Object(k.a)(d.map((function(e){return{token:e,type:"condition"}})))),e.playerLoc=c,e.level=o.payload},resetLevel:function(e){if(e.level){var o=e.level,n=o.crystalLocs,r=o.startLoc;e.crystalsOnMapNode={},n.forEach((function(o){e.crystalsOnMapNode[o]=e.crystalsOnMapNode[o]||0,e.crystalsOnMapNode[o]++})),e.playerLoc=r}},moveToken:function(e,o){var n=o.payload,r=n.tokenIdx,t=n.scrollNodeIdx;"number"===typeof t?e.tokens[r].scrollNode=t:delete e.tokens[r].scrollNode},setPlayback:function(e,o){e.playbackInProgress=o.payload},advancePlayer:function(e){if(e.playbackInProgress&&!(e.playingScrollNode<0)){var o=b.find((function(o){var n;return o.id===(null===(n=e.level)||void 0===n?void 0:n.scrollId)})),n=I.find((function(o){var n;return o.id===(null===(n=e.level)||void 0===n?void 0:n.mapId)})),r=null===o||void 0===o?void 0:o.nodes[e.playingScrollNode],t=e.tokens.find((function(o){return o.scrollNode===e.playingScrollNode}));if("path"===(null===r||void 0===r?void 0:r.type)&&"path"===(null===t||void 0===t?void 0:t.type)){var d=null===n||void 0===n?void 0:n.paths.find((function(o){var n=o.color===(null===t||void 0===t?void 0:t.color),r=o.directional?o.nodeIdxs[0]===e.playerLoc:o.nodeIdxs.includes(e.playerLoc);return n&&r}));if(!d)return void(e.playbackInProgress=!1);var c=d.nodeIdxs[0]===e.playerLoc?d.nodeIdxs[1]:d.nodeIdxs[0];"number"===typeof c&&(e.playerLoc=c,e.crystalsOnMapNode[e.playerLoc]&&e.crystalsOnMapNode[e.playerLoc]--),e.playingScrollNode=r.next.index}else"condition"===(null===r||void 0===r?void 0:r.type)&&"condition"===(null===t||void 0===t?void 0:t.type)&&(e.playingScrollNode=h(e,t.token,n)?r.nextIf.index:r.nextElse.index)}}}}),h=function(e,o,n){if(!e.level)return!1;if("troll"===o.tokenType)return null===n||void 0===n?void 0:n.trollLocs[o.trollType].includes(e.playerLoc);if("crystal"===o.tokenType){var r=Object.values(e.crystalsOnMapNode).reduce((function(e,o){return e+o}),0);return e.level.crystalLocs.length-r===o.amount}return!1},T=L.actions,m=T.loadLevel,j=T.moveToken,v=T.advancePlayer,O=T.resetLevel,C=T.setPlayback,M=T.resetState,w=L.reducer,S=n(2),E=function(e){return b.every((function(o){return o.id!==e.scrollId}))},N=y.a.div(r||(r=Object(p.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-gap: 10px;\n  padding: 20px;\n\n  a {\n    text-decoration: none;\n  }\n"])),I.length),D=y.a.button(t||(t=Object(p.a)(["\n  border-radius: 4px;\n  border: 1px solid black;\n  width: 100%;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 50px;\n  cursor: pointer;\n"]))),P=function(){var e=Object(a.b)();return c.a.useEffect((function(){e(M())}),[e]),Object(S.jsx)(N,{children:u.map((function(e){return Object(S.jsx)(i.b,{to:"/level/".concat(e.id),children:Object(S.jsx)(D,{disabled:E(e),children:e.id})},e.id)}))})},H=n(4),W=function(e,o,n){var r,t,d=e.x,c=e.y,l=o.x,s=o.y;if(l===d)r=0,t=s>c?n:-n;else{var a=(s-c)/(l-d);r=Math.sqrt(Math.pow(n,2)/(1+Math.pow(a,2))),l<d&&(r*=-1),t=a*r}return{x:d+r,y:c+t}},Z=function(e,o,n){var r=W(o,e,n/Math.sqrt(2)),t=function(e,o,n){var r,t,d=e.x,c=e.y;return o===1/0||o===-1/0?(r=0,t=n):t=o*(r=Math.sqrt(Math.pow(n,2)/(1+Math.pow(o,2)))),[{x:d+r,y:c+t},{x:d-r,y:c-t}]}(r,-1/function(e,o){var n=e.x,r=e.y,t=o.x;return(o.y-r)/(t-n)}(e,o),.5*n);return[e,r,t[0],o,t[1],r]},F=function(e,o,n,r){if(n.length>0){var t=n[0],d=n.slice(-1)[0],c=n.slice(0,-1),l=W(e,t,r),s=W(o,d,r);return[l].concat(Object(k.a)(c),Object(k.a)(Z(d,s,3)))}var a=W(e,o,r),i=W(o,e,r);return Z(a,i,3)},V=function(e,o){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[],t=0;t<6;t++){var d=Math.PI/3*(t+n);r.push({x:e.x+o*Math.cos(d),y:e.y+o*Math.sin(d)})}return r},B=function(e,o,n){var r=e.x,t=e.y;switch(o){case"left":return{x:r-n,y:t};case"right":return{x:r+n,y:t};case"up":return{x:r,y:t-n};case"down":return{x:r,y:t+n}}},G=(1+Math.sqrt(5))/2,z=n(28),q=function(e){var o,n,r=null===(o=e.level)||void 0===o?void 0:o.mapId;return(null===(n=I.find((function(e){return e.id===r})))||void 0===n?void 0:n.nodes)||[]},R=Object(z.a)([function(e){return e.tokens},function(e){return b.find((function(o){var n;return o.id===(null===(n=e.level)||void 0===n?void 0:n.scrollId)}))}],(function(e,o){return!!o&&o.nodes.every((function(o,n){return e.some((function(e){return e.scrollNode===n}))}))})),Y=function(e){return Object.values(e.crystalsOnMapNode).reduce((function(e,o){return e+o}),0)};var A,J=function(e,o){var n=Object(d.useRef)(e);Object(d.useLayoutEffect)((function(){n.current=e}),[e]),Object(d.useEffect)((function(){if(o||0===o){var e=setInterval((function(){return n.current()}),o);return function(){return clearInterval(e)}}}),[o])},X=20,K=100,Q=0,U=function(){var e=Object(a.c)(R),o=Object(a.c)((function(e){return e.playbackInProgress})),n=Object(a.b)();return J((function(){return n(v())}),o?1500:null),c.a.useEffect((function(){o||n(O())}),[o,n]),e?o?Object(S.jsx)("rect",{width:X,height:X,x:K-10,y:Q-10,fill:"black",onClick:function(){return n(C(!1))}}):Object(S.jsx)("polygon",{fill:"black",onClick:function(){return n(C(!0))},points:"\n        ".concat(K+10,",").concat(Q,"\n        ").concat(K-10,",").concat(Q+X/Math.sqrt(3),"\n        ").concat(K-10,",").concat(Q-X/Math.sqrt(3),"\n      ")}):null},$=n(15),_="#F8CD0E",ee=function(e){var o=e.tokenState,n=e.center,r=e.size,t=e.isEmpty,d=e.onMouseDown,c=e.isFlashing,l=Object($.useSpring)({from:{filter:"drop-shadow(0 0 0 ".concat(_,")")},to:[{filter:"drop-shadow(0 0 3 ".concat(_,")")},{filter:"drop-shadow(0 0 0 ".concat(_,")")}],loop:!0,config:$.config.slow}).filter;if("path"===o.type)return Object(S.jsx)($.animated.circle,{cx:n.x,cy:n.y,r:r/2,fill:t?"none":o.color,stroke:t?"black":"none",strokeWidth:.2,strokeDasharray:t?"1 1":"none",onMouseDown:d,filter:c?l:"none"});if("condition"===o.type){if("crystal"===o.token.tokenType)return Object(S.jsxs)("g",{onMouseDown:d,pointerEvents:"bounding-box",children:[Object(S.jsx)("rect",{x:n.x-r/2,y:n.y-r/2,width:r,height:r,fill:"none",stroke:"black",strokeWidth:t?.2:.5,strokeDasharray:t?"1 1":""}),!t&&Object(S.jsx)("text",{x:n.x,y:n.y,alignmentBaseline:"central",textAnchor:"middle",fontSize:8,cursor:"default",children:o.token.amount})]});if("troll"===o.token.tokenType)return Object(S.jsx)("rect",{x:n.x-r/2,y:n.y-r/2,width:r,height:r,fill:t?"none":o.token.trollType,stroke:t?"black":"none",strokeWidth:.2,strokeDasharray:"1 1",onMouseDown:d})}return null},oe=c.a.memo((function(){return Object(S.jsxs)("svg",{width:"81",height:"81",viewBox:"0 0 81 81",fill:"none",children:[Object(S.jsxs)("g",{clipPath:"url(#clip0)",children:[Object(S.jsx)("path",{d:"M42.0259 30.2053V21.2053C42.0259 16.2053 38.0259 12.2053 33.0259 12.2053C28.0259 12.2053 24.0259 16.2053 24.0259 21.2053C24.0259 26.2053 28.0259 30.2053 33.0259 30.2053H42.0259Z",fill:"white"}),Object(S.jsx)("path",{d:"M60.3259 27.6053C63.8259 24.1053 63.9259 18.4053 60.4259 14.9053C56.9259 11.4053 51.2259 11.4053 47.7259 14.9053C46.0259 16.6053 45.0259 18.9053 45.0259 21.3053V30.3053H54.0259C56.4259 30.3053 58.7259 29.3053 60.3259 27.6053Z",fill:"white"}),Object(S.jsx)("path",{d:"M17.8259 50.9053C17.8259 59.3053 23.0259 66.0053 30.5259 67.9053V34.3053C23.1259 36.9053 17.8259 43.5053 17.8259 50.9053Z",fill:"#F8CD0E"}),Object(S.jsx)("path",{d:"M51.8257 68.5053C57.2257 68.0053 62.1257 65.4053 65.5257 61.2053C61.8257 62.2053 57.8257 61.1053 55.1257 58.4053L57.2257 56.3053C60.3257 59.3053 65.2257 59.4053 68.3257 56.4053C69.0257 54.6053 69.3257 52.8053 69.3257 50.9053C69.5257 41.4053 62.1257 33.6053 52.6257 33.3053C52.4257 33.3053 52.1257 33.3053 51.9257 33.3053H45.1257V68.5053H51.8257ZM56.1257 43.9053C57.8257 43.9053 59.2257 45.3053 59.2257 47.1053C59.2257 48.8053 57.8257 50.2053 56.0257 50.2053C54.3257 50.2053 52.9257 48.8053 52.9257 47.0053C53.0257 45.3053 54.4257 43.9053 56.1257 43.9053Z",fill:"#F8CD0E"}),Object(S.jsx)("path",{d:"M35.2259 33.3053C34.6259 33.3053 34.0259 33.4053 33.5259 33.5053V68.4053C34.0259 68.4053 34.6259 68.5053 35.1259 68.5053H42.0259V33.3053H35.2259Z",fill:"#F8CD0E"}),Object(S.jsx)("path",{d:"M56.1258 50.2053C57.8258 50.2053 59.2258 48.8053 59.2258 47.0053C59.2258 45.2053 57.8258 43.9053 56.0258 43.9053C54.2258 43.9053 52.9258 45.3053 52.9258 47.0053C52.9258 48.7053 54.4258 50.2053 56.1258 50.2053Z",fill:"black"}),Object(S.jsx)("path",{d:"M59.7258 31.8053C60.7258 31.3053 61.6258 30.6053 62.5258 29.8053C67.2258 25.1053 67.2258 17.5053 62.5258 12.8053C57.8258 8.10532 50.2258 8.10532 45.5258 12.8053C44.7258 13.6053 44.0258 14.5053 43.5258 15.5053C40.3258 9.70532 33.1258 7.50532 27.2258 10.7053C21.3258 13.9053 19.2258 21.1053 22.4258 27.0053C23.6258 29.3053 25.6258 31.1053 28.0258 32.2053C20.7258 35.2053 15.5258 41.9053 14.8258 49.4053H9.22583V52.4053H14.8258C15.4258 63.2053 24.3258 71.6053 35.1258 71.5053H51.9258C63.1258 70.6053 72.2258 61.4053 72.2258 50.9053C72.4258 42.5053 67.4258 35.0053 59.7258 31.8053ZM30.5258 67.9053C23.0258 65.9053 17.8258 59.3053 17.8258 50.9053C17.8258 43.6053 23.2258 36.9053 30.5258 34.4053V67.9053ZM42.0258 68.5053H35.1258C34.6258 68.5053 34.0258 68.5053 33.5258 68.4053V33.5053C34.1258 33.4053 34.7258 33.3053 35.2258 33.3053H42.0258V68.5053ZM42.0258 30.3053H33.0258C30.6258 30.3053 28.3258 29.4053 26.6258 27.7053C23.1258 24.2053 23.0258 18.5053 26.5258 15.0053C30.0258 11.5053 35.7258 11.4053 39.2258 14.9053C40.9258 16.6053 41.9258 18.9053 41.9258 21.3053L42.0258 30.3053ZM45.0258 21.3053C45.0258 16.3053 49.0258 12.3053 54.0258 12.3053C59.0258 12.3053 63.0258 16.3053 63.0258 21.3053C63.0258 26.3053 59.0258 30.3053 54.0258 30.3053H45.0258V21.3053ZM57.1258 56.3053L55.0258 58.4053C57.7258 61.1053 61.7258 62.2053 65.4258 61.2053C62.0258 65.4053 57.1258 68.0053 51.7258 68.4053H44.9258V33.3053H51.7258C61.2258 33.1053 69.0258 40.6053 69.2258 50.1053C69.2258 50.4053 69.2258 50.6053 69.2258 50.9053C69.2258 52.8053 68.9258 54.7053 68.2258 56.4053C65.2258 59.4053 60.2258 59.4053 57.1258 56.3053Z",fill:"black"})]}),Object(S.jsx)("defs",{children:Object(S.jsx)("clipPath",{id:"clip0",children:Object(S.jsx)("rect",{x:"9.22583",y:"9.20532",width:"63.1",height:"62.3",fill:"white"})})})]})})),ne=function(e){var o=e.center,n=e.radius,r=e.fill,t=e.strokeWidth,d=V(o,n).map((function(e){var o=e.x,n=e.y;return"".concat(o,", ").concat(n)})).join(" ");return Object(S.jsx)("polygon",{points:d,stroke:"black",fill:r,strokeWidth:t})},re=function(e){var o=e.center,n=e.radius,r=e.fill,t=void 0===r?"#f8cd05":r,d=e.ignoreEmpty,c=Object(a.c)(Y),l=[].concat(Object(k.a)(V(o,n,.5)),[o]);return Object(S.jsx)("g",{children:l.map((function(e,o){return Object(S.jsx)(ne,{center:e,radius:n/Math.sqrt(3),fill:o>=c||d?t:"none",strokeWidth:n/10},"hex".concat(o))}))})},te=c.a.memo((function(){return Object(S.jsx)("svg",{viewBox:"0 0 64 64",width:"64",height:"64",enableBackground:"new 0 0 64 64",children:Object(S.jsx)("path",{d:"M32,2C15.431,2,2,15.432,2,32c0,16.568,13.432,30,30,30c16.568,0,30-13.432,30-30C62,15.432,48.568,2,32,2z M25.025,50 l-0.02-0.02L24.988,50L11,35.6l7.029-7.164l6.977,7.184l21-21.619L53,21.199L25.025,50z",fill:"#43a047"})})})),de=c.a.memo((function(){return Object(S.jsx)("svg",{x:"0px",y:"0px",width:"122.879",height:"122.879",viewBox:"0 0 122.879 122.879",enableBackground:"new 0 0 122.879 122.879",children:Object(S.jsx)("g",{children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#FF4141",d:"M61.44,0c33.933,0,61.439,27.507,61.439,61.439 s-27.506,61.439-61.439,61.439C27.507,122.879,0,95.372,0,61.439S27.507,0,61.44,0L61.44,0z M73.451,39.151 c2.75-2.793,7.221-2.805,9.986-0.027c2.764,2.776,2.775,7.292,0.027,10.083L71.4,61.445l12.076,12.249 c2.729,2.77,2.689,7.257-0.08,10.022c-2.773,2.765-7.23,2.758-9.955-0.013L61.446,71.54L49.428,83.728 c-2.75,2.793-7.22,2.805-9.986,0.027c-2.763-2.776-2.776-7.293-0.027-10.084L51.48,61.434L39.403,49.185 c-2.728-2.769-2.689-7.256,0.082-10.022c2.772-2.765,7.229-2.758,9.953,0.013l11.997,12.165L73.451,39.151L73.451,39.151z"})})})})),ce=200,le=function(e){var o=e.scroll,n=Object(a.c)((function(e){return e.tokens})),r=c.a.useState(!0),t=Object(H.a)(r,2),l=t[0],s=t[1],i=function(e,o,n){var r=Object(d.useRef)(null),t=Object(d.useState)(-1),c=Object(H.a)(t,2),l=c[0],s=c[1],i=Object(d.useState)(null),x=Object(H.a)(i,2),p=x[0],y=x[1],u=Object(d.useState)(null),I=Object(H.a)(u,2),b=I[0],k=I[1],g=Object(d.useState)(-1),f=Object(H.a)(g,2),L=f[0],h=f[1],T=Object(a.b)();return{dragTokenIdx:l,startDrag:function(t,d){var c,l;t.preventDefault();var a=new DOMPoint(t.clientX,t.clientY);a=a.matrixTransform(null===(c=r.current)||void 0===c||null===(l=c.getScreenCTM())||void 0===l?void 0:l.inverse()),s(d),y({x:a.x,y:a.y});var i=L,x=function(t){var c,l;t.preventDefault();var s=new DOMPoint(t.clientX,t.clientY).matrixTransform(null===(c=r.current)||void 0===c||null===(l=c.getScreenCTM())||void 0===l?void 0:l.inverse()),a={x:s.x-((null===p||void 0===p?void 0:p.x)||0),y:s.y-((null===p||void 0===p?void 0:p.y)||0)};k(a);var x=e.nodes.findIndex((function(e,r){return!o.some((function(e,o){return o!==d&&e.scrollNode===r}))&&Math.pow(e.coords.x-a.x,2)+Math.pow(e.coords.y-a.y,2)<Math.pow(n,2)}));x!==i&&(i=x,h(x))};document.addEventListener("mousemove",x),document.addEventListener("mouseup",(function e(){i>-1?(T(j({tokenIdx:d,scrollNodeIdx:i})),h(-1)):T(j({tokenIdx:d})),s(-1),k(null),y(null),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",e)}))},svgRef:r,dragCenter:b,closeNodeIdx:L}}(o,n,8),x=i.dragTokenIdx,p=i.startDrag,y=i.svgRef,u=i.closeNodeIdx,I=i.dragCenter,b=ce*(1/G-.5),k=x>-1&&n[x];return Object(S.jsxs)("svg",{viewBox:"0 0 ".concat(ce," ").concat(ce/G),preserveAspectRatio:"xMinYMax",ref:y,children:[Object(S.jsx)("rect",{x:0,y:0,width:ce,height:ce/G,fill:"none"}),Object(S.jsx)("rect",{x:2,y:102,width:196,height:b-4,rx:2,stroke:"black",strokeWidth:.5,fill:"none"}),n.map((function(e,o){var r=o===x||"number"===typeof e.scrollNode,t=ce/n.length*(o+.5),d=100+b/2;return Object(S.jsx)(ee,{tokenState:e,center:{x:t,y:d},size:16,isEmpty:r,onMouseDown:function(e){s(!1),p(e,o)},isFlashing:l},"tokens".concat(o))})),o.nodes.map((function(e,r){var t=[],d=function(e,o,n){var r=(o[0].x+o[1].x)/2,d=(o[0].y+o[1].y)/2;t.push(Object(S.jsx)("g",{transform:"translate(".concat(r-3,",").concat(d-3,") scale(").concat("check"===e?.1:.05,") "),children:"check"===e?Object(S.jsx)(te,{}):Object(S.jsx)(de,{})},n))},c=function(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=F(c.coords,o.nodes[n.index].coords,n.midpoints||[],8.5);t.push(Object(S.jsx)("polyline",{points:a.map((function(e){var o=e.x,n=e.y;return"".concat(o,", ").concat(n)})).join(" "),stroke:"black",fill:"none",strokeWidth:.2},"arrow".concat(r).concat(l))),s&&d(s,a,"arrow".concat(r).concat(l,"-icon"))};if("path"===e.type&&e.next.index>-1&&c(e.next),"path"===e.type&&-1===e.next.index||"condition"===e.type&&-1===e.nextIf.index||"condition"===e.type&&-1===e.nextElse.index){var l=B(e.coords,o.portalPos||"right",30);t.push(Object(S.jsx)(re,{center:l,radius:5,ignoreEmpty:!0},"hive"));var s=F(e.coords,l,[],8);t.push(Object(S.jsx)("polyline",{points:s.map((function(e){var o=e.x,n=e.y;return"".concat(o,", ").concat(n)})).join(" "),stroke:"black",fill:"none",strokeWidth:.2},"arrow-hive")),"condition"===e.type&&d(-1===e.nextIf.index?"check":"ex",s,"arrow-hive-icon")}"condition"===e.type&&(e.nextIf.index>-1&&c(e.nextIf,e,"-if","check"),e.nextElse.index>-1&&c(e.nextElse,e,"-else","ex"));var a=n.findIndex((function(e){return e.scrollNode===r}));if(a>-1&&x!==a&&t.push(Object(S.jsx)(ee,{tokenState:n[a],center:e.coords,size:16,onMouseDown:function(e){return p(e,a)}},"node-filled".concat(r))),"path"===e.type&&t.push(Object(S.jsx)("circle",{r:8,cx:e.coords.x,cy:e.coords.y,stroke:"black",strokeWidth:u===r?2:1,fill:"none"},"node".concat(r))),"condition"===e.type&&t.push(Object(S.jsx)("rect",{width:16,height:16,x:e.coords.x-8,y:e.coords.y-8,stroke:"black",strokeWidth:1,fill:"none"},"node".concat(r))),e.isStart){var i=B(e.coords,o.playerPos||"left",30);t.push(Object(S.jsx)("g",{transform:"translate(".concat(i.x-9,", ").concat(i.y-9,") scale(0.2222222)"),children:Object(S.jsx)(oe,{})},"bee")),c({index:0},{coords:i},"-start")}return t})),k&&I&&Object(S.jsx)(ee,{tokenState:k,center:I,size:16},"draggable"),Object(S.jsx)(U,{})]})},se=function(e){var o=e.nodeSideLength,n=Object(a.c)((function(e){return e.playerLoc})),r=Object(a.c)(q)[n],t=r.x-o/2,d=r.y-o/2,c=Object($.useSpring)({to:{transform:"translate(".concat(t,", ").concat(d,") scale(0.12)")}}).transform;return r?Object(S.jsx)($.animated.g,{transform:c,children:Object(S.jsx)(oe,{})}):null},ae=10,ie=function(e){var o=e.config,n=e.portalLoc,r=o.nodes,t=o.paths,d=o.trollLocs,c=Object(a.c)((function(e){return e.crystalsOnMapNode})),l=Object(a.c)((function(e){return e.tokens}));return Object(S.jsxs)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"xMinYMin",children:[Object(S.jsx)("rect",{x:0,y:0,width:100,height:100,fill:"none"}),t.map((function(e,o){var n=[];if(e.selfLoopDirection){var t=ae,d=r[e.nodeIdxs[0]],c="up"===e.selfLoopDirection?-1:1;n=[{x:d.x-3.5,y:d.y+c*t/2},{x:d.x-3.5,y:d.y+8*c},{x:d.x+3.5,y:d.y+8*c},{x:d.x+3.5,y:d.y+c*t/2}]}else if(e.directional){var l=r[e.nodeIdxs[0]],s=r[e.nodeIdxs[1]],a=e.middleCoords||[];n=F(l,s,a,6.5),e.xOffset&&(n=n.map((function(o){var n=o.x,r=o.y;return{x:n+(e.xOffset||0),y:r}})))}else{var i=r[e.nodeIdxs[0]],x=r[e.nodeIdxs[1]],p=e.middleCoords||[];n=[i].concat(Object(k.a)(p),[x])}var y=n.map((function(e){var o=e.x,n=e.y;return"".concat(o,",").concat(n)})).join(" ");return Object(S.jsx)("polyline",{points:y,stroke:e.color,fill:"none",strokeWidth:1.25},"path".concat(o))})),r.map((function(e,o){var r=Object.keys(d).find((function(e){return d[e].includes(o)})),t=r&&l.some((function(e){return"condition"===e.type&&"troll"===e.token.tokenType&&e.token.trollType===r})),s=e.x-5,a=e.y-5,i=[Object(S.jsx)("rect",{width:ae,height:ae,x:s,y:a,stroke:t?r:"black",strokeWidth:.75,fill:"#efefef"},"node".concat(o))];o===n&&i.push(Object(S.jsx)(re,{center:e,radius:2.4},"hive"));for(var x=c[o]||0,p=0;p<x;p++){var y=3.0303030303030303;i.push(Object(S.jsx)(ne,{center:{x:e.x-(x-1)*y/2+y*p,y:e.y},radius:2.4/Math.sqrt(3),strokeWidth:.25,fill:"#f8cd05"},"crystal".concat(p)))}return i})),Object(S.jsx)(se,{nodeSideLength:ae})]})},xe=function(){var e=Object(x.g)().levelId,o=e&&parseInt(e,10),n=u.find((function(e){return e.id===o})),r=Object(a.b)(),t=Object(a.c)((function(e){return e.level}));if(c.a.useEffect((function(){n&&r(m(n))}),[n,r]),!t)return null;var d=t.mapId,l=t.scrollId,s=t.portalLoc,i=I.find((function(e){return e.id===d})),p=b.find((function(e){return e.id===l}));return i&&p?Object(S.jsx)(pe,{children:Object(S.jsxs)("svg",{viewBox:"0 0 100 ".concat(100*G),width:"500px",children:[Object(S.jsx)(ie,{config:i,portalLoc:s}),Object(S.jsx)(le,{scroll:p})]})}):null},pe=y.a.div(A||(A=Object(p.a)(["\n  padding: 24px;\n  display: flex;\n  justify-content: center;\n\n  > svg {\n    max-width: 500px;\n    background-color: #efefef;\n    border: 1px solid black;\n  }\n"])));var ye=function(){return Object(S.jsxs)(x.c,{children:[Object(S.jsx)(x.a,{path:"/",element:Object(S.jsx)(P,{})}),Object(S.jsx)(x.a,{path:"/level/:levelId",element:Object(S.jsx)(xe,{})})]})},ue=Object(g.a)({reducer:w}),Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(o){var n=o.getCLS,r=o.getFID,t=o.getFCP,d=o.getLCP,c=o.getTTFB;n(e),r(e),t(e),d(e),c(e)}))};s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(a.a,{store:ue,children:Object(S.jsx)(i.a,{basename:"/code-masters-prototype",children:Object(S.jsx)(ye,{})})})}),document.getElementById("root")),Ie()}},[[56,1,2]]]);
//# sourceMappingURL=main.bce8b705.chunk.js.map